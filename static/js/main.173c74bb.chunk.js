(this["webpackJsonpalgorand-dapp"]=this["webpackJsonpalgorand-dapp"]||[]).push([[0],{183:function(e,t,n){"use strict";t.a='#pragma version 6\ntxn ApplicationID\nint 0\n==\nbnz main_l10\ntxn OnCompletion\nint DeleteApplication\n==\nbnz main_l9\ntxna ApplicationArgs 0\nbyte "edit"\n==\nbnz main_l8\ntxna ApplicationArgs 0\nbyte "upvote"\n==\nbnz main_l7\ntxna ApplicationArgs 0\nbyte "downvote"\n==\nbnz main_l6\nerr\nmain_l6:\nbyte "DOWNVOTE"\nbyte "DOWNVOTE"\napp_global_get\nint 1\n+\napp_global_put\nint 1\nreturn\nmain_l7:\nbyte "UPVOTE"\nbyte "UPVOTE"\napp_global_get\nint 1\n+\napp_global_put\nint 1\nreturn\nmain_l8:\nbyte "TITLE"\ntxna ApplicationArgs 1\napp_global_put\nbyte "CONTENT"\ntxna ApplicationArgs 2\napp_global_put\nbyte "IMAGE"\ntxna ApplicationArgs 3\napp_global_put\nint 1\nreturn\nmain_l9:\ntxn Sender\nglobal CreatorAddress\n==\nreturn\nmain_l10:\ntxn NumAppArgs\nint 3\n==\nassert\ntxn Note\nbyte "blog-dapp:uv2"\n==\nassert\nbyte "TITLE"\ntxna ApplicationArgs 0\napp_global_put\nbyte "IMAGE"\ntxna ApplicationArgs 1\napp_global_put\nbyte "CONTENT"\ntxna ApplicationArgs 2\napp_global_put\nbyte "UPVOTE"\nint 0\napp_global_put\nbyte "DOWNVOTE"\nint 0\napp_global_put\nint 1\nreturn'},184:function(e,t,n){"use strict";t.a="#pragma version 6\nint 1\nreturn"},191:function(e,t,n){},212:function(e,t){},214:function(e,t){},224:function(e,t){},226:function(e,t){},253:function(e,t){},254:function(e,t){},259:function(e,t){},261:function(e,t){},268:function(e,t){},287:function(e,t){},29:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l}));var c=n(9),a=n(117),r=n.n(a),o=function(t){return e.from(t,"base64").toString("utf-8")},s=function(t){return e.from(t,"utf8").toString("base64")},i=function(e){if(e)return e.slice(0,5)+"..."+e.slice(e.length-5,e.length)},l=function(e){if(e)return new r.a(e).shiftedBy(-c.a).toFixed(3)}}).call(this,n(14).Buffer)},322:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(32),o=n.n(r),s=n(10),i=n(17),l=n(6),u=n(178),d=n(1),b=function(e){var t=e.name,n=e.coverImg,c=e.connect;return Object(d.jsxs)("div",{className:"d-flex justify-content-center flex-column text-center bg-black min-vh-100",children:[Object(d.jsxs)("div",{className:"mt-auto text-light mb-5",children:[Object(d.jsx)("div",{className:" ratio ratio-1x1 mx-auto mb-2",style:{maxWidth:"320px"},children:Object(d.jsx)("img",{src:n,alt:""})}),Object(d.jsx)("h1",{children:t}),Object(d.jsx)("p",{children:"Please connect your wallet to continue."}),Object(d.jsx)(u.a,{onClick:function(){return c()},variant:"outline-light",className:"rounded-pill px-3 mt-3",children:"Connect Wallet"})]}),Object(d.jsx)("p",{className:"mt-auto text-secondary",children:"Powered by Algorand"})]})},j=(n(191),n(332)),p=n(328),x=n(337),O=n(29),f=n(2),m=n(3),g=n(180),h=n.n(g),v=["size","address"],w=function(e){var t=e.size,n=e.address,c=Object(m.a)(e,v);return Object(d.jsx)("div",Object(f.a)(Object(f.a)({},c),{},{style:{width:"".concat(t,"px"),height:"".concat(t,"px")},children:Object(d.jsx)(h.a,{diameter:t,seed:parseInt(n.slice(2,10),16)})}))},y=function(e){var t=e.address,n=e.name,c=e.amount,a=e.symbol,r=e.disconnect;return t?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(j.a,{children:[Object(d.jsxs)(j.a.Toggle,{variant:"light",align:"end",id:"dropdown-basic",className:"d-flex align-items-center border rounded-pill py-1",children:[c?Object(d.jsxs)(d.Fragment,{children:[Object(O.b)(c),Object(d.jsxs)("span",{className:"ms-1",children:[" ",a]})]}):Object(d.jsx)(p.a,{animation:"border",size:"sm",className:"opacity-25"}),Object(d.jsx)(w,{address:t,size:28,className:"ms-2 me-1"})]}),Object(d.jsxs)(j.a.Menu,{className:"shadow-lg border-0",children:[Object(d.jsx)(j.a.Item,{href:"https://testnet.algoexplorer.io/address/".concat(t),target:"_blank",children:Object(d.jsxs)(x.a,{direction:"horizontal",gap:2,children:[Object(d.jsx)("i",{className:"bi bi-person-circle fs-4"}),Object(d.jsxs)("div",{className:"d-flex flex-column",children:[n&&Object(d.jsx)("span",{className:"font-monospace",children:n}),Object(d.jsx)("span",{className:"font-monospace",children:Object(O.c)(t)})]})]})}),Object(d.jsx)(j.a.Divider,{}),Object(d.jsxs)(j.a.Item,{as:"button",className:"d-flex align-items-center",onClick:function(){r()},children:[Object(d.jsx)("i",{className:"bi bi-box-arrow-right me-2 fs-4"}),"Disconnect"]})]})]})}):null},N=n(331),T=n(335),C=n(23),k=n(333),I=n(334),A=n(182),B=function(e){var t=e.createBlog,n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),i=Object(l.a)(s,2),b=i[0],j=i[1],p=Object(c.useState)(""),x=Object(l.a)(p,2),O=x[0],f=x[1],m=Object(c.useCallback)((function(){return r&&b&&O}),[r,b,O]),g=Object(c.useState)(!1),h=Object(l.a)(g,2),v=h[0],w=h[1],y=function(){return w(!1)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{onClick:function(){return w(!0)},variant:"dark",className:"rounded-pill px-0",style:{width:"38px"},children:Object(d.jsx)("i",{className:"bi bi-plus"})}),Object(d.jsxs)(k.a,{show:v,onHide:y,centered:!0,children:[Object(d.jsx)(k.a.Header,{closeButton:!0,children:Object(d.jsx)(k.a.Title,{children:"New Blog"})}),Object(d.jsx)(I.a,{children:Object(d.jsxs)(k.a.Body,{children:[Object(d.jsx)(A.a,{controlId:"inputName",label:"Title",className:"mb-3",children:Object(d.jsx)(I.a.Control,{type:"text",onChange:function(e){o(e.target.value)},placeholder:"Enter title"})}),Object(d.jsx)(A.a,{controlId:"inputUrl",label:"Image URL",className:"mb-3",children:Object(d.jsx)(I.a.Control,{type:"text",placeholder:"Image URL",value:b,onChange:function(e){j(e.target.value)}})}),Object(d.jsx)(A.a,{controlId:"inputContent",label:"Content",className:"mb-3",children:Object(d.jsx)(I.a.Control,{as:"textarea",placeholder:"content",style:{height:"80px"},onChange:function(e){f(e.target.value)}})})]})}),Object(d.jsxs)(k.a.Footer,{children:[Object(d.jsx)(u.a,{variant:"outline-secondary",onClick:y,children:"Close"}),Object(d.jsx)(u.a,{variant:"dark",disabled:!m(),onClick:function(){t({title:r,image:b,content:O}),y()},children:"Save"})]})]})]})},E=n(181),F=n(336),_=n(329),S=function(e){var t=e.editBlog,n=e.blog,a=Object(c.useState)(n.title),r=Object(l.a)(a,2),o=r[0],s=r[1],i=Object(c.useState)(n.image),b=Object(l.a)(i,2),j=b[0],p=b[1],x=Object(c.useState)(n.content),O=Object(l.a)(x,2),f=O[0],m=O[1],g=Object(c.useCallback)((function(){return o&&j&&f}),[o,j,f]),h=Object(c.useState)(!1),v=Object(l.a)(h,2),w=v[0],y=v[1],N=function(){return y(!1)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{variant:"outline-dark",onClick:function(){return y(!0)},className:"btn w-50 py-3",children:"Edit"}),Object(d.jsxs)(k.a,{show:w,onHide:N,centered:!0,children:[Object(d.jsx)(k.a.Header,{closeButton:!0,children:Object(d.jsx)(k.a.Title,{children:"Edit Blog"})}),Object(d.jsx)(I.a,{children:Object(d.jsxs)(k.a.Body,{children:[Object(d.jsx)(A.a,{controlId:"inputName",label:"Title",className:"mb-3",children:Object(d.jsx)(I.a.Control,{type:"text",onChange:function(e){s(e.target.value)},placeholder:"Enter title"})}),Object(d.jsx)(A.a,{controlId:"inputUrl",label:"Image URL",className:"mb-3",children:Object(d.jsx)(I.a.Control,{type:"text",placeholder:"Image URL",value:j,onChange:function(e){p(e.target.value)}})}),Object(d.jsx)(A.a,{controlId:"inputContent",label:"Content",className:"mb-3",children:Object(d.jsx)(I.a.Control,{as:"textarea",placeholder:"content",style:{height:"80px"},onChange:function(e){m(e.target.value)}})})]})}),Object(d.jsxs)(k.a.Footer,{children:[Object(d.jsx)(u.a,{variant:"outline-secondary",onClick:N,children:"Close"}),Object(d.jsx)(u.a,{variant:"dark",disabled:!g(),onClick:function(){t({title:o,image:j,content:f}),N()},children:"Save"})]})]})]})},P=function(e){var t=e.blog,n=Object(c.useState)(!1),a=Object(l.a)(n,2),r=a[0],o=a[1],s=function(){return o(!1)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{variant:"outline-dark",onClick:function(){return o(!0)},className:"btn w-50 py-3",children:"Read More"}),Object(d.jsxs)(k.a,{show:r,onHide:s,centered:!0,children:[Object(d.jsx)(k.a.Header,{closeButton:!0,children:Object(d.jsx)(k.a.Title,{children:t.title})}),Object(d.jsxs)(k.a.Body,{children:[Object(d.jsx)("div",{className:"ratio ratio-4x3",children:Object(d.jsx)("img",{src:t.image,alt:t.title,style:{objectFit:"cover"}})}),Object(d.jsx)("p",{children:t.content}),Object(d.jsx)("h6",{children:"Author"}),Object(d.jsxs)(x.a,{direction:"horizontal",gap:2,children:[Object(d.jsx)("span",{className:"font-monospace text-secondary",children:Object(O.c)(t.owner)}),Object(d.jsx)(w,{size:28,address:t.owner}),Object(d.jsx)(_.a,{bg:"secondary",className:"ms-auto",children:"Published"})]})]}),Object(d.jsx)(k.a.Footer,{children:Object(d.jsx)(u.a,{variant:"outline-secondary",onClick:s,children:"Close"})})]})]})},D=function(e){var t=e.address,n=e.blog,c=e.editBlog,a=e.deleteBlog,r=e.upvoteBlog,o=e.downvoteBlog,s=n.title,i=n.image,l=n.appId,b=n.owner;return Object(d.jsx)(E.a,{children:Object(d.jsxs)(F.a,{className:"h-100",children:[Object(d.jsx)(F.a.Header,{children:Object(d.jsxs)(x.a,{direction:"horizontal",gap:2,children:[Object(d.jsx)("span",{className:"font-monospace text-secondary",children:Object(O.c)(b)}),Object(d.jsx)(w,{size:28,address:b}),Object(d.jsx)(_.a,{bg:"secondary",className:"ms-auto",children:"Published"})]})}),Object(d.jsx)("div",{className:"ratio ratio-4x3",children:Object(d.jsx)("img",{src:i,alt:s,style:{objectFit:"cover"}})}),Object(d.jsxs)(F.a.Body,{className:"d-flex flex-column text-center",children:[Object(d.jsx)(F.a.Title,{children:s}),Object(d.jsxs)(I.a,{className:"d-flex align-content-stretch flex-row gap-2",children:[n.owner!==t?Object(d.jsx)(S,{blog:n,editBlog:c}):Object(d.jsx)(P,{blog:n}),Object(d.jsxs)(u.a,{variant:"outline-dark",onClick:function(){return r(n)},className:"btn",children:[n.upvote,Object(d.jsx)("i",{className:"bi bi-hand-thumbs-up-fill"})]}),Object(d.jsxs)(u.a,{variant:"outline-dark",onClick:function(){return o(n)},className:"btn",children:[n.downvote,Object(d.jsx)("i",{className:"bi bi-hand-thumbs-down-fill"})]}),n.owner===t&&Object(d.jsx)(u.a,{variant:"outline-danger",onClick:function(){return a(n)},className:"btn",children:Object(d.jsx)("i",{className:"bi bi-trash"})})]})]})]})},l)},L=function(){return Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)(p.a,{animation:"border",role:"status",className:"opacity-25",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},z=function(){return Object(d.jsx)(C.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})},G=function(e){var t=e.text;return Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"bi bi-check-circle-fill text-success mx-2"}),Object(d.jsx)("span",{className:"text-secondary mx-1",children:t})]})},U=function(e){var t=e.text;return Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"bi bi-x-circle-fill text-danger mx-2"}),Object(d.jsx)("span",{className:"text-secondary mx-1",children:t})]})},R={text:""};G.defaultProps=R,U.defaultProps=R;var V=n(330),M=n(45),H=function(e){var t=e.address,n=e.fetchBalance,a=Object(c.useState)([]),r=Object(l.a)(a,2),o=r[0],u=r[1],b=Object(c.useState)(!1),j=Object(l.a)(b,2),p=j[0],x=j[1],O=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(C.b)(Object(d.jsx)(G,{text:"Fetching Blogs"})),Object(M.e)().then((function(e){e&&u(e)})).catch((function(e){console.log(e)})).finally((function(e){x(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[]);var f=function(){var e=Object(i.a)(Object(s.a)().mark((function e(c){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(M.a)(t,c).then((function(){Object(C.b)(Object(d.jsx)(G,{text:"Blog added successfully."})),O(),n(t)})).catch((function(e){console.log(e),Object(C.b)(Object(d.jsx)(U,{text:"Failed to create a blog."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(Object(s.a)().mark((function e(c){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(M.d)(t,c).then((function(){Object(C.b)(Object(d.jsx)(G,{text:"Blog edit successfully"})),O(),n(t)})).catch((function(e){console.log(e),Object(C.b)(Object(d.jsx)(U,{text:"Failed to edit blog."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(Object(s.a)().mark((function e(c){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(M.f)(t,c).then((function(){Object(C.b)(Object(d.jsx)(G,{text:"Blog upvoted successfully"})),O(),n(t)})).catch((function(e){console.log(e),Object(C.b)(Object(d.jsx)(U,{text:"Failed to upvote blog."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(Object(s.a)().mark((function e(c){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(M.c)(t,c).then((function(){Object(C.b)(Object(d.jsx)(G,{text:"Blog downvoted successfully"})),O(),n(t)})).catch((function(e){console.log(e),Object(C.b)(Object(d.jsx)(U,{text:"Failed to downvote blog."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(Object(s.a)().mark((function e(c){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(M.b)(t,c.appId).then((function(){Object(C.b)(Object(d.jsx)(G,{text:"Blog deleted successfully"})),O(),n(t)})).catch((function(e){console.log(e),Object(C.b)(Object(d.jsx)(U,{text:"Failed to delete blog."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p?Object(d.jsx)(L,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(d.jsx)("h1",{className:"fs-4 fw-bold mb-0",children:"Blogs"}),Object(d.jsx)(B,{createBlog:f})]}),Object(d.jsx)(V.a,{xs:1,sm:2,lg:3,className:"g-3 mb-5 g-xl-4 g-xxl-5",children:Object(d.jsx)(d.Fragment,{children:o.map((function(e,n){return Object(d.jsx)(D,{address:t,blog:e,editBlog:m,deleteBlog:v,upvoteBlog:g,downvoteBlog:h},n)}))})})]})},W=n(9),J=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),o=Object(l.a)(r,2),u=o[0],j=o[1],p=Object(c.useState)(0),x=Object(l.a)(p,2),O=x[0],f=x[1],m=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.d.lookupAccountByID(t).do().then((function(e){var t=e.account.amount;f(t)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.f.connect().then((function(e){var t=e[0];a(t.address),j(t.name),m(t.address)})).catch((function(e){console.log("Could not connect to MyAlgo wallet"),console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(z,{}),n?Object(d.jsxs)(N.a,{fluid:"md",children:[Object(d.jsx)(T.a,{className:"justify-content-end pt-3 pb-5",children:Object(d.jsx)(T.a.Item,{children:Object(d.jsx)(y,{address:n,name:u,amount:O,disconnect:function(){a(null),j(null),f(null)},symbol:"ALGO"})})}),Object(d.jsx)("main",{children:Object(d.jsx)(H,{address:n,fetchBalance:m})})]}):Object(d.jsx)(b,{name:"Medium Dapp",coverImg:"https://play-lh.googleusercontent.com/hB9t3Z-mi284_49HA3nAuhO-W5Cyhje7r2P9McdgORoVCd-0SV54c12NMQWLHnqALw",connect:g})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,338)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};n(319),n(320),n(321);o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root")),q()},45:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return v}));var c=n(63),a=n(10),r=n(17),o=n(61),s=n(60),i=n(15),l=n.n(i),u=n(9),d=n(183),b=n(184),j=n(29),p=Object(o.a)((function e(t,n,c,a,r,o,i){Object(s.a)(this,e),this.title=t,this.image=n,this.content=c,this.upvote=a,this.downvote=r,this.appId=o,this.owner=i})),x=function(){var t=Object(r.a)(Object(a.a)().mark((function t(n){var c,r,o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=new TextEncoder,r=c.encode(n),t.next=4,u.b.compile(r).do();case 4:return o=t.sent,t.abrupt("return",new Uint8Array(e.from(o.result,"base64")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var c,r,o,s,i,j,p,O,f,m,g,h,v,w;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adding blog..."),e.next=3,u.b.getTransactionParams().do();case 3:return c=e.sent,e.next=6,x(d.a);case 6:return r=e.sent,e.next=9,x(b.a);case 9:return o=e.sent,s=(new TextEncoder).encode(u.c),i=(new TextEncoder).encode(n.title),j=(new TextEncoder).encode(n.image),p=(new TextEncoder).encode(n.content),O=[i,j,p],f=l.a.makeApplicationCreateTxnFromObject({from:t,suggestedParams:c,onComplete:l.a.OnApplicationComplete.NoOpOC,approvalProgram:r,clearProgram:o,numLocalInts:u.j,numLocalByteSlices:u.i,numGlobalInts:u.h,numGlobalByteSlices:u.g,note:s,appArgs:O}),m=f.txID().toString(),e.next=19,u.f.signTransaction(f.toByte());case 19:return g=e.sent,console.log("Signed transaction with txID: %s",m),e.next=23,u.b.sendRawTransaction(g.blob).do();case 23:return e.next=25,l.a.waitForConfirmation(u.b,m,4);case 25:return h=e.sent,console.log("Transaction "+m+" confirmed in round "+h["confirmed-round"]),e.next=29,u.b.pendingTransactionInformation(m).do();case 29:return v=e.sent,w=v["application-index"],console.log("Created new app-id: ",w),e.abrupt("return",w);case 33:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var c,r,o,s,i,d,b,j,p,x,O,f,m;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Edit blog..."),e.next=3,u.b.getTransactionParams().do();case 3:for(c=e.sent,r=(new TextEncoder).encode("edit"),o=(new TextEncoder).encode(n.title),s=(new TextEncoder).encode(n.image),i=(new TextEncoder).encode(n.content),d=[r,o,s,i],b=l.a.makeApplicationCallTxnFromObject({from:t,appIndex:n.appId,onComplete:l.a.OnApplicationComplete.NoOpOC,suggestedParams:c,appArgs:d}),j=[b],p=l.a.computeGroupID(j),x=0;x<1;x++)j[x].group=p;return e.next=15,u.f.signTransaction(j.map((function(e){return e.toByte()})));case 15:return O=e.sent,console.log("Signed group transaction"),e.next=19,u.b.sendRawTransaction(O.map((function(e){return e.blob}))).do();case 19:return f=e.sent,e.next=22,l.a.waitForConfirmation(u.b,f.txId,4);case 22:m=e.sent,console.log("Group transaction "+f.txId+" confirmed in round "+m["confirmed-round"]);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var c,r,o,s,i,d,b,j,p,x;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Upvote blog..."),e.next=3,u.b.getTransactionParams().do();case 3:for(c=e.sent,r=(new TextEncoder).encode("upvote"),o=[r],s=l.a.makeApplicationCallTxnFromObject({from:t,appIndex:n.appId,onComplete:l.a.OnApplicationComplete.NoOpOC,suggestedParams:c,appArgs:o}),i=[s],d=l.a.computeGroupID(i),b=0;b<1;b++)i[b].group=d;return e.next=12,u.f.signTransaction(i.map((function(e){return e.toByte()})));case 12:return j=e.sent,console.log("Signed group transaction"),e.next=16,u.b.sendRawTransaction(j.map((function(e){return e.blob}))).do();case 16:return p=e.sent,e.next=19,l.a.waitForConfirmation(u.b,p.txId,4);case 19:x=e.sent,console.log("Group transaction "+p.txId+" confirmed in round "+x["confirmed-round"]);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var c,r,o,s,i,d,b,j,p,x;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("downvote blog..."),e.next=3,u.b.getTransactionParams().do();case 3:for(c=e.sent,r=(new TextEncoder).encode("downvote"),o=[r],s=l.a.makeApplicationCallTxnFromObject({from:t,appIndex:n.appId,onComplete:l.a.OnApplicationComplete.NoOpOC,suggestedParams:c,appArgs:o}),i=[s],d=l.a.computeGroupID(i),b=0;b<1;b++)i[b].group=d;return e.next=12,u.f.signTransaction(i.map((function(e){return e.toByte()})));case 12:return j=e.sent,console.log("Signed group transaction"),e.next=16,u.b.sendRawTransaction(j.map((function(e){return e.blob}))).do();case 16:return p=e.sent,e.next=19,l.a.waitForConfirmation(u.b,p.txId,4);case 19:x=e.sent,console.log("Group transaction "+p.txId+" confirmed in round "+x["confirmed-round"]);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var c,r,o,s,i,d,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting application..."),e.next=3,u.b.getTransactionParams().do();case 3:return c=e.sent,r=l.a.makeApplicationDeleteTxnFromObject({from:t,suggestedParams:c,appIndex:n}),o=r.txID().toString(),e.next=8,u.f.signTransaction(r.toByte());case 8:return s=e.sent,console.log("Signed transaction with txID: %s",o),e.next=12,u.b.sendRawTransaction(s.blob).do();case 12:return e.next=14,l.a.waitForConfirmation(u.b,o,4);case 14:return i=e.sent,console.log("Transaction "+o+" confirmed in round "+i["confirmed-round"]),e.next=18,u.b.pendingTransactionInformation(o).do();case 18:d=e.sent,b=d.txn.txn.apid,console.log("Deleted app-id: ",b);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,o,s,i,l,d,b,j;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching blog..."),n=(new TextEncoder).encode(u.c),r=e.from(n).toString("base64"),t.next=5,u.d.searchForTransactions().notePrefix(r).txType("appl").minRound(u.e).do();case 5:o=t.sent,s=[],i=Object(c.a)(o.transactions),t.prev=8,i.s();case 10:if((l=i.n()).done){t.next=20;break}if(d=l.value,!(b=d["created-application-index"])){t.next=18;break}return t.next=16,w(b);case 16:(j=t.sent)&&s.push(j);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),i.e(t.t0);case 25:return t.prev=25,i.f(),t.finish(25);case 28:return console.log("Blog fetched."),t.abrupt("return",s);case 30:case"end":return t.stop()}}),t,null,[[8,22,25,28]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,c,r,o,s,i,l,d,b,x,O,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.d.lookupApplications(t).includeAll(!0).do();case 3:if(!(n=e.sent).application.deleted){e.next=6;break}return e.abrupt("return",null);case 6:return c=n.application.params["global-state"],r=n.application.params.creator,o="",s="",i="",l=0,d=0,b=function(e,t){return t.find((function(t){return t.key===Object(j.d)(e)}))},void 0!==b("TITLE",c)&&(x=b("TITLE",c).value.bytes,o=Object(j.a)(x)),void 0!==b("IMAGE",c)&&(O=b("IMAGE",c).value.bytes,s=Object(j.a)(O)),void 0!==b("CONTENT",c)&&(f=b("CONTENT",c).value.bytes,i=Object(j.a)(f)),void 0!==b("UPVOTE",c)&&(l=b("UPVOTE",c).value.uint),void 0!==b("DOWNVOTE",c)&&(d=b("DOWNVOTE",c).value.uint),e.abrupt("return",new p(o,s,i,l,d,t,r));case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(14).Buffer)},9:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return w}));var c=n(15),a=n.n(c),r=n(179),o=n.n(r),s="",i="https://node.testnet.algoexplorerapi.io",l="",u="",d="https://algoindexer.testnet.algoexplorerapi.io",b="",j=new a.a.Algodv2(s,i,l),p=new a.a.Indexer(u,d,b),x=new o.a,O=21540981,f="blog-dapp:uv2",m=0,g=0,h=2,v=3,w=6}},[[322,1,2]]]);
//# sourceMappingURL=main.173c74bb.chunk.js.map